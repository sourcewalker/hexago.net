"use strict";var appGoogleTracking={tracking:!0,fields:[],fieldConcat:"",abandonStatus:!1,formID:"",abSelector:"",formSuccess:!1,dynamicSort:function(a){var n=1;return"-"===a[0]&&(n=-1,a=a.substr(1)),function(t,e){return(t[a]<e[a]?-1:t[a]>e[a]?1:0)*n}},indexAssigner:function(){$(this.formID).find(this.abSelector).each(function(t){$(this).attr("data-event-index",t)})},processAbandonForm:function(t){this.fields.push(t);var e=this.fields.sort(this.dynamicSort("index"));this.fieldConcat=e.map(function(t){return t.name}).join(" > ")},dataLayerPush:function(t){if(!0===this.tracking)if("undefined"!=typeof dataLayer){var e={};null!=t.dataEvent&&(e.event=t.dataEvent),null!=t.dataCategory&&(e.category=t.dataCategory),null!=t.dataAction&&(e.action=t.dataAction),null!=t.dataLabel&&(e.label=t.dataLabel),null!=t.customEvent&&(e=t.customEvent),dataLayer.push(e)}else console.log("Datalayer not set");else console.log("App Google tracking disable")},processEventCTA:function(t){var e=null==t.attr("data-label")?document.title:t.attr("data-label");this.dataLayerPush({dataEvent:t.attr("data-event"),dataCategory:t.attr("data-category"),dataAction:t.attr("data-action"),dataLabel:e}),null==t.attr("data-event-exception")&&(null!=t.attr("target")?window.open(t.attr("href"),"_blank"):window.location.href=t.attr("href"))},processEventTypeIn:function(t){if(!t.hasClass("type-in-active")){var e=t.attr("type"),a=0;if(""==t.val()&&a++,"checkbox"==e&&(t.is(":checked")||a++),"radio"==e){var n=t.closest("form").attr("id"),o=t.attr("name");$("#"+n).find("input[name="+o+"]").is(":checked")||a++}if(0==a&&("radio"==e?radioSelector.addClass("type-in-active"):t.addClass("type-in-active"),this.dataLayerPush({dataEvent:t.attr("data-event"),dataCategory:t.attr("data-category"),dataAction:t.attr("data-action"),dataLabel:t.attr("data-label")}),1==this.abandonStatus)){var i={index:t.attr("data-event-index"),name:t.attr("data-event-fieldname")};this.processAbandonForm(i)}}},eventHandlers:function(t,e,a){var n=this;0<t.length&&t.on("click",function(t){t.preventDefault(),n.processEventCTA($(this))}),null!=e&&0<e.length&&e.on("change",function(){n.processEventCTA($(this))}),null!=a&&0<a.length&&a.on("keyup change",function(){n.processEventTypeIn($(this))}),1==n.abandonStatus&&(n.indexAssigner(),window.onunload=function(){0==n.formSuccess&&(appGoogleTracking.dataLayerPush({dataEvent:"form-click",dataCategory:"Form Action",dataAction:"Form Abandonment",dataLabel:appGoogleTracking.fieldConcat}),console.log(dataLayer))})},init:function(t){if(1==this.tracking){var e=null!=t.ctaInputSelector?t.ctaInputSelector:null,a=null!=t.typeInSelector?t.typeInSelector:null;1==t.abandonStatus&&(this.abandonStatus=!0,this.formID=t.formID,this.abSelector=t.abSelector),this.eventHandlers(t.ctaSelector,e,a)}else console.log("App Google tracking disable")}},appCookie={createCookie:function(t,e,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var o="; expires="+n.toGMTString();document.cookie=t+"="+e+o+"; path=/"},getCookie:function(t){var e=document.cookie.match(RegExp("(?:^|;\\s*)"+t+"=([^;]*)"));return e?e[1]:null},deleteCookie:function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},editCookie:function(t,e,a){},eventHandlers:function(t){var e=this,a=t.btnClose,n=t.cookieName,o=t.cookieDuration,i=t.cookieContainer;null==this.getCookie(n)&&i.show().addClass("js-active"),a.on("click",function(){e.createCookie(n,"accept",o),i.removeClass("js-active")})},init:function(t){this.eventHandlers({btnClose:t.btnClose,cookieName:t.cookieName,cookieDuration:t.cookieDuration,cookieContainer:t.cookieContainer})}},ScrollTo=function(t){var e=null!=t.speed&&""!=t.speed?t.speed:"slow";null!=t.callback?$("html,body").animate({scrollTop:$(t.target).offset().top},e).promise().then(function(){t.callback.call(this,"complete")}):$("html,body").animate({scrollTop:$(t.target).offset().top},e)};$(document).ready(function(){$(".js-menu-mobile .nav-icon").on("click",function(){var t=$(this);t.toggleClass("open"),t.hasClass("open")?($("html, body").addClass("scroll-off"),$(".js-view-mobile-menu").show().css({left:"0",width:"100%"})):($("html, body").removeClass("scroll-off"),$(".js-view-mobile-menu").css({left:"-100%",width:"0"})),appGoogleTracking.dataLayerPush({dataEvent:"info-click",dataCategory:"Informational Action",dataAction:"Header Menu",dataLabel:document.title})}),$(".js-show-footer-links").on("click",function(t){t.preventDefault();var e=$(this).find("i"),a=$(".js-view-footer-links");e.hasClass("icon-add")?e.removeClass("icon-add").addClass("icon-minus"):e.removeClass("icon-minus").addClass("icon-add"),a.slideToggle("fast",function(){"block"==a.css("display")&&ScrollTo({target:"#js-target-scroll-bottom",speed:"fast"})})}),0<$(".faq").length&&($(".js-event-select-faq").on("click",function(){var t=$(this),e=t.find(".icon");e.hasClass("icon-add-white")?e.removeClass("icon-add-white").addClass("icon-minus-white"):e.removeClass("icon-minus-white").addClass("icon-add-white"),t.parents(".js-view-faq").find(".js-view-faq-content").slideToggle("fast")}),$(".scrollbar-inner").scrollbar()),appCookie.init({btnClose:$(".js-accept-cookie"),cookieName:"cookie-policy",cookieDuration:"30",cookieContainer:$(".js-view-cookie-banner")}),appGoogleTracking.init({ctaSelector:$(".js-event-cta"),typeInSelector:$(".js-event-type-in"),abandonStatus:!0,formID:"#frm-vote",abSelector:".js-event-ab",abPrefillSelector:".js-event-ab-prefilled"}),$(window).on("resize",function(){1024<window.innerWidth&&$(".js-view-mobile-menu").removeAttr("style")})});
//# sourceMappingURL=main.min.js.map